# TavernHelper μΈν„°νμ΄μ¤: λ³€μ ν‘μ‹ λ° ν”λ μ΄μ–΄ μμ • ν—μ©

MVUμ—λ” νΈλ¦¬ν• μ„¤κ³„κ°€ μμµλ‹λ‹¤: AI μ‘λ‹µμ΄ μ™„λ£λ ν›„, μλ™μΌλ΅ μ‘λ‹µ λμ— νΉμ ν…μ¤νΈ `<StatusPlaceHolderImpl/>`λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤. μ΄ ν…μ¤νΈ μμ²΄λ” λ‹¨μν• ν”λ μ΄μ¤ν™€λ”(μλ¦¬ ν‘μ‹μ)λ΅, μ•„λ¬΄λ° κΈ°λ¥μ΄ μ—†μµλ‹λ‹¤. ν•μ§€λ§ Tavern μ •κ·μ‹μ„ μ‚¬μ©ν•μ—¬ μ΄λ¥Ό μΊ΅μ²ν•κ³  λ‹¤μκ³Ό κ°™μ΄ ν™μ©ν•  μ μμµλ‹λ‹¤:

* **ν”„λ΅¬ν”„νΈ μ „μ© ν¬λ§·**μ„ λΉ„μ›λ‘λ©΄, μ΄ ν…μ¤νΈκ°€ AIμ—κ² μ „μ†΅λμ§€ μ•μµλ‹λ‹¤β€”μ¦‰, μ–΄λ–¤ ν† ν°λ„ μ†λΉ„ν•μ§€ μ•μµλ‹λ‹¤!
* **ν‘μ‹ μ „μ© ν¬λ§·**μ„ μ°λ¦¬κ°€ λ³΄μ—¬μ£Όκ³  μ‹¶μ€ μ–΄λ–¤ μ½ν…μΈ λ΅λ“  μ„¤μ •ν•  μ μμµλ‹λ‹¤: λ‹¨μν• ν• μ¤„ ν…μ¤νΈκ°€ λ  μλ„ μκ³ , μƒνΈμ‘μ© κ°€λ¥ν• ν”„λ΅ νΈμ—”λ“ μΈν„°νμ΄μ¤κ°€ λ  μλ„ μμµλ‹λ‹¤.

## ν”„λ΅¬ν”„νΈ μ „μ© ν¬λ§·: μΈν„°νμ΄μ¤ ν”λ μ΄μ¤ν™€λ” μ „μ†΅ν•μ§€ μ•κΈ°

μƒλ΅μ΄ λ΅μ»¬ μ •κ·μ‹μ„ μ¶”κ°€ν•κ³ , `[μ „μ†΅μ•ν•¨]μΈν„°νμ΄μ¤ ν”λ μ΄μ¤ ν™€λ”`λΌκ³  λ…λ…ν•©λ‹λ‹¤ (μ•„μ¤μ΅°λΌ λ¦¬μ μ •κ·μ‹ λ…λ… κ΄€λ΅€μ— λ”°λΌ, `[μ „μ†΅μ•ν•¨]`μ€ AIμ—κ² μ „μ†΅ν•μ§€ μ•μμ„, `[μ¨κΉ€]`μ€ ν”λ μ΄μ–΄μ—κ² ν‘μ‹ν•μ§€ μ•μμ„, λλ” `[κΈ°λ¥λ…]`μΌλ΅ λ…λ…ν•©λ‹λ‹¤):

!!! example "μ •κ·μ‹ μ„¤μ • μ°Έκ³ "
    ```
    μ¤ν¬λ¦½νΈ μ΄λ¦„: [μ „μ†΅μ•ν•¨]μΈν„°νμ΄μ¤ν”λ μ΄μ¤ν™€λ”
    μ°ΎκΈ° μ •κ·ν‘ν„μ‹: <StatusPlaceHolderImpl/>
    λ€μ²΄: (λΉ„μ›λ‘ )
    μ μ© λ²”μ„:
      - [ ] μ‚¬μ©μ μ…λ ¥
      - [x] AI μ¶λ ¥
    μ„μ‹:
      - [ ] ν‘μ‹ μ „μ© ν¬λ§·
      - [x] ν”„λ΅¬ν”„νΈ μ „μ© ν¬λ§·
    ```

## ν‘μ‹ μ „μ© ν¬λ§·: μΈν„°νμ΄μ¤ ν‘μ‹ν•κΈ°

λ§μ°¬κ°€μ§€λ΅, μƒλ΅μ΄ λ΅μ»¬ μ •κ·μ‹μ„ μ¶”κ°€ν•κ³  `[μΈν„°νμ΄μ¤]μƒνƒλ°”`λΌκ³  λ…λ…ν•©λ‹λ‹¤. μ΄λ²μ—λ” **ν‘μ‹ μ „μ© ν¬λ§·**μ„ μ²΄ν¬ν•κ³ , ν”λ μ΄μ¤ν™€λ”λ¥Ό μ°λ¦¬κ°€ ν‘μ‹ν•κ³  μ‹¶μ€ μƒνƒλ°”λ΅ λ€μ²΄ν•©λ‹λ‹¤:

!!! example "μ •κ·μ‹ μ„¤μ • μ°Έκ³ "
    ```
    μ¤ν¬λ¦½νΈ μ΄λ¦„: [μΈν„°νμ΄μ¤]μƒνƒλ°”
    μ°ΎκΈ° μ •κ·ν‘ν„μ‹: <StatusPlaceHolderImpl/>
    λ€μ²΄: μ•„λ λ‚΄μ© μ°Έμ΅°
    μ μ© λ²”μ„:
      - [ ] μ‚¬μ©μ μ…λ ¥
      - [x] AI μ¶λ ¥
    μ„μ‹:
      - [x] ν‘μ‹ μ „μ© ν¬λ§·
      - [ ] ν”„λ΅¬ν”„νΈ μ „μ© ν¬λ§·
    ```

### μμ ν…μ¤νΈ μΈν„°νμ΄μ¤

`<user>`, `{{user}}` λ“±μ Tavern λ§¤ν¬λ΅μ™€ λ§μ°¬κ°€μ§€λ΅, `{{format_message_variable::λ³€μ}}`λ” AIμ—κ² μ „μ†΅λ  λ• λ€μ²΄λ  λΏλ§ μ•„λ‹λΌ, ν‘μ‹λ  λ•λ„ λ€μ²΄λ©λ‹λ‹¤. λ”°λΌμ„ `<StatusPlaceHolderImpl/>`λ¥Ό `{{format_message_variable::λ³€μ}}`κ°€ ν¬ν•¨λ ν…μ¤νΈλ΅ λ€μ²΄ν•μ—¬ λ³€μ κ°’μ„ ν‘μ‹ν•  μ μμµλ‹λ‹¤:

```
π’– ν•μΏ μ•„ ν„μ¬ μμ΅΄λ„: {{format_message_variable::stat_data.ν•μΏ μ•„.μμ΅΄λ„}}
```

μ΄λ ‡κ² ν•λ©΄ λ§¤λ² AI μ‘λ‹µ ν•λ‹¨μ— μ΄ ν…μ¤νΈκ°€ μλ™μΌλ΅ ν‘μ‹λλ©°, μ •ν™•ν• μμΉκ°€ ν‘μ‹λ©λ‹λ‹¤:

<p align="center">
  <img src="https://stagedog.github.io/_images/%E7%BA%AF%E6%96%87%E6%9C%AC%E7%8A%B6%E6%80%81%E6%A0%8F.png" width="600">
</p>

λ¬Όλ΅ , HTMLκ³Ό CSSλ¥Ό μ‚¬μ©ν•μ—¬ κΎΈλ°€ μλ„ μμµλ‹λ‹¤:

```html
<style>
/* μ—¬κΈ°μ— CSS μ¤νƒ€μΌμ„ μ‘μ„±ν•μ„Έμ” */
.status-bar {
  font-size: 14px;
  color: #ff69b4;
  border: 1px solid #ff69b4;
  padding: 5px;
  border-radius: 8px;
}
</style>
<div class="status-bar">
π’– ν•μΏ μ•„ ν„μ¬ μμ΅΄λ„: {{format_message_variable::stat_data.ν•μΏ μ•„.μμ΅΄λ„}}
</div>
```

<p align="center">
  <img src="https://stagedog.github.io/_images/%E7%BE%8E%E5%8C%96%E7%8A%B6%E6%80%81%E6%A0%8F.png" width="600">
</p>

!!! warning "μ΅°μ–Έ"
    μ‚¬μ‹¤ μ €λ” λ³€μ κ°’μ„ ν‘μ‹ν•κΈ° μ„ν•΄μ„λ§ μƒνƒλ°”λ¥Ό λ§λ“λ” κ²ƒμ„ κ¶μ¥ν•μ§€ μ•μµλ‹λ‹¤: λ³€μ κ°’μ„ λ³΄κ³  μ‹¶μ€ ν”λ μ΄μ–΄λ” μ§μ ‘ λ³€μ κ΄€λ¦¬μλ¥Ό μ—΄μ–΄μ„ λ³Ό κ²ƒμ…λ‹λ‹¤. λ‹¨μν μμΉλ¥Ό ν‘μ‹ν•λ” κ²ƒλ³΄λ‹¤ λ” ν¥λ―Έλ΅μ΄ κ²ƒλ“¤μ„ ν•  μ μμµλ‹λ‹¤:

### ν”„λ΅ νΈμ—”λ“ μΈν„°νμ΄μ¤

λ³µμ΅ν• μ½”λ“λ¥Ό ν¬ν•¨ν•λ” ν”„λ΅ νΈμ—”λ“ μΈν„°νμ΄μ¤λ” μ΄ νν† λ¦¬μ–Όμ λ²”μ„λ¥Ό λ²—μ–΄λ‚©λ‹λ‹¤... ν•μ§€λ§ μ‚¬μ‹¤ **[μ‹¤μ‹κ°„ ν”„λ΅ νΈμ—”λ“ μΈν„°νμ΄μ¤ λλ” μ¤ν¬λ¦½νΈ μ‘μ„±](https://stagedog.github.io/%E9%9D%92%E7%A9%BA%E8%8E%89/%E5%B7%A5%E5%85%B7%E7%BB%8F%E9%AA%8C/%E5%AE%9E%E6%97%B6%E7%BC%96%E5%86%99%E5%89%8D%E7%AB%AF%E7%95%8C%E9%9D%A2%E6%88%96%E8%84%9A%E6%9C%AC/)**μ„ μ‚¬μ©ν•λ©΄ μ†μ‰½κ² λ§λ“¤ μ μμµλ‹λ‹¤.

ν”„λ΅ νΈμ—”λ“ μΈν„°νμ΄μ¤μ—μ„λ” λ‹¨μν λ³€μ κ°’μ„ ν‘μ‹ν•κ±°λ‚ κ°„λ‹¨ν• κΎΈλ―ΈκΈ°λ§ ν•  μ μλ” κ²ƒμ΄ μ•„λ‹™λ‹λ‹¤β€”ν”λ μ΄μ–΄κ°€ μΈν„°νμ΄μ¤μ™€ **μƒνΈμ‘μ©**ν•κ² λ§λ“¤ μ μμµλ‹λ‹¤!

**[μΊλ¦­ν„° μΉ΄λ“ μμ ](https://github.com/StageDog/tavern_helper_template/tree/main/%E7%A4%BA%E4%BE%8B/%E8%A7%92%E8%89%B2%E5%8D%A1%E7%A4%BA%E4%BE%8B)**μ—μ„λ” μ΄ μ μ„ λ³΄μ—¬μ£ΌκΈ° μ„ν•΄, μΈν„°νμ΄μ¤μ—μ„ μ§μ ‘ ν•μΏ μ•„μ μμ΅΄λ„λ¥Ό μ¦κ°ν•  μ μλ„λ΅ μ§€μ›ν•©λ‹λ‹¤. λ™μ‹μ—, λ³€μ κ΄€λ¦¬μμ—μ„ λ³€μλ¥Ό μμ •ν•λ©΄ μΈν„°νμ΄μ¤μ—λ„ μ‹¤μ‹κ°„μΌλ΅ μ—…λ°μ΄νΈλ©λ‹λ‹¤.

ν•μ§€λ§ λ¬Όλ΅  λ” λ³µμ΅ν• κ²ƒλ“¤λ„ λ§λ“¤ μ μμµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄:

* ν”λ μ΄μ–΄κ°€ μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ λ³€μλ¥Ό μμ •ν•κ³ , μ΅°μΆ…ν•λ” μ„ νƒλ°›μ€ μμ—κ² ν€μ¤νΈλ¥Ό λ¶€μ—¬ (λ™μ‹μ—, `μ‹μ¤ν… λ΅κ·Έ` λ³€μλ¥Ό μ‚¬μ©ν•μ—¬ ν”λ μ΄μ–΄κ°€ λ¬΄μ—‡μ„ ν–λ”μ§€ κΈ°λ΅ν•¨μΌλ΅μ¨, μ¤ν† λ¦¬μƒ AIκ°€ ν”λ μ΄μ–΄κ°€ μƒ ν€μ¤νΈλ¥Ό λ¶€μ—¬ν–λ‹¤λ” κ²ƒμ„ μ• μ μκ² ν•¨)
* AI μƒμ„± μ”μ²­
* κ°κ²μ„(Galgame) μ¤νƒ€μΌ μΈν„°νμ΄μ¤
* μ§μ ‘ μ¬λ μ΄ λ” μ¤νμ΄μ–΄(Slay the Spire) κ°™μ€ κ²μ„ μ μ‘ (λ„¤, μ΄λ° μΆ…λ¥μ μΊλ¦­ν„° μΉ΄λ“κ°€ λ§μ΄ μμµλ‹λ‹¤)!

μ”μ•½ν•μλ©΄, PCμ—μ„λ” **[μ‹¤μ‹κ°„ ν”„λ΅ νΈμ—”λ“ μΈν„°νμ΄μ¤ λλ” μ¤ν¬λ¦½νΈ μ‘μ„±](https://stagedog.github.io/%E9%9D%92%E7%A9%BA%E8%8E%89/%E5%B7%A5%E5%85%B7%E7%BB%8F%E9%AA%8C/%E5%AE%9E%E6%97%B6%E7%BC%96%E5%86%99%E5%89%8D%E7%AB%AF%E7%95%8C%E9%9D%A2%E6%88%96%E8%84%9A%E6%9C%AC/)**μ„ μ‚¬μ©ν•λ” κ²ƒμ„ κ¶μ¥ν•©λ‹λ‹¤.

!!! tip "λ¨λ°”μΌ μ‚¬μ©μλ¥Ό μ„ν• ν"
    λ¬Όλ΅ , λ¨λ°”μΌ ν™κ²½μ—μ„ λ³µμ΅ν• ν”„λ΅ νΈμ—”λ“ μΈν„°νμ΄μ¤λ¥Ό μƒμ„±ν•λ” κ²ƒμ€ λ§¤μ° μ–΄λ µμµλ‹λ‹¤... λ³€μ κµ¬μ΅°μ™€ μ•„λμ ν”„λ΅ νΈμ—”λ“ μΈν„°νμ΄μ¤ ν…ν”λ¦Ώμ„ AIμ—κ² λ³΄λ‚΄μ„ μ μ‘ν•λ„λ΅ μ‹λ„ν•΄ λ³Ό μ μμµλ‹λ‹¤.

    ??? note "λ¨λ°”μΌμ© κ°„μ΄ ν”„λ΅ νΈμ—”λ“ μΈν„°νμ΄μ¤ ν…ν”λ¦Ώ"
        μΈν„°νμ΄μ¤ λ‚΄μ—μ„ λ³€μλ¥Ό μμ •ν•λ” κΈ°λ¥μ΄ ν•„μ”ν•λ‹¤λ©΄, μ•„λ ν”„λ΅¬ν”„νΈ μ™Έμ— **[μ΄ ν”„λ΅¬ν”„νΈ]**λ„ ν•¨κ» AIμ—κ² μ „μ†΅ν•΄μ•Ό ν•©λ‹λ‹¤.

        μΈν„°νμ΄μ¤ λ‚΄μ—μ„ AIμ—κ² μ›”λ“ μΈν¬ μƒμ„± λ° μμ •, ν”„λ¦¬μ…‹ μμ •, μμ•… μ¬μƒ λ“±μ„ μ”μ²­ν•΄μ•Ό ν•λ‹¤λ©΄, ν•„μ”μ— λ”°λΌ **[λ€μ‘ν•λ” νƒ€μ… μ •μ νμΌ]**λ„ AIμ—κ² μ „μ†΅ν•΄μ•Ό ν•©λ‹λ‹¤.

        !!! tip "PC μ‚¬μ©μ κ¶μ¥ μ‚¬ν•­"
            λ¬Όλ΅  PCλ¥Ό μ‚¬μ© μ¤‘μ΄λΌλ©΄, [μ‹¤μ‹κ°„ ν”„λ΅ νΈμ—”λ“ μΈν„°νμ΄μ¤ λλ” μ¤ν¬λ¦½νΈ μ‘μ„±] κΈ°λ¥μ„ μ‚¬μ©ν•μ—¬ AIκ°€ Tavern μ›Ήνμ΄μ§€λ¥Ό μ§μ ‘ λ³΄λ©΄μ„ μƒνƒμ°½μ„ μ‘μ„±ν•κ² ν•λ” κ²ƒμ„ λ” μ¶”μ²ν•©λ‹λ‹¤.

        ```html
        <head>
          <style>
          ${μμ CSS λ””μμΈ μ¤νƒ€μΌ}
          </style>
          <script type="module">
            ${
              λ΅μ§ μ½”λ“
              example: |-
                function populateCharacterData() {
                  const all_variables = getAllVariables();

                  // λ³€μ κ²½λ΅μ— μλ” κ°’μ„ κ°€μ Έμ¤κ±°λ‚ μ—†μΌλ©΄ 'N/A' ν‘μ‹
                  const property_value = _.get(all_variables, 'stat_data.${λ³€μ κ²½λ΅}', 'N/A');
                  $('#${μΊλ¦­ν„°}-${λ³€μ κ²½λ΅}').text(property_value);
                  ...
                }

                function toggleSection($header) {
                  // μμ JavaScript DOM μ΅°μ‘λ³΄λ‹¤ jQuery μ‚¬μ©μ„ μ°μ„ μ‹ν•¨
                  const $content = $header.next('.section-content');
                  $content.toggleClass('expanded');

                  const $arrow = $header.find('span:last-child');
                  $arrow.text($content.hasClass('expanded') ? 'β–Ό' : 'β–Ί');
                }

                async function init() {
                  await waitGlobalInitialized('Mvu');
                  populateCharacterData();

                  $('.section-header').on('click', function () {
                    toggleSection($(this));
                  });
                }

                $(errorCatched(init));
            }
          </script>
        </head>
        <body>
          <div class="card-body">
            <div class="section">
              <div class="section-header">
                <span>${μΊλ¦­ν„°λ…} ν•µμ‹¬ μƒνƒ</span>
                <span>β–Ό</span>
              </div>
              <div class="section-content expanded">
                <div class="property">
                  <div class="property-name">${ν•κµ­μ–΄ λ³€μλ…}</div>
                  <div class="property-value-container">
                    <span class="property-value" id="${μΊλ¦­ν„°}-${λ³€μ κ²½λ΅}">--</span>
                  </div>
                </div>
                <div class="property">
                  <div class="property-name">${...}</div>
                  <div class="property-value-container">
                    <span class="property-value" id="${...}">--</span>
                  </div>
                </div>
                ...
              </div>
            </div>
            <div class="section">
              <div class="section-header">
                <span>μ›”λ“ μƒνƒ</span>
                <span>β–Ί</span>
              </div>
              <div class="section-content">${...}</div>
            </div>
            ...
          </div>
        </body>
        ```

## νκ³ 

μ—¬κΈ°κΉμ§€ μ°λ¦¬λ” `<StatusPlaceHolderImpl/>` ν”λ μ΄μ¤ν™€λ”λ¥Ό ν™μ©ν•μ—¬ λ‹¤μκ³Ό κ°™μ€ μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ—μµλ‹λ‹¤:

* ν‘μ‹μ— μ–΄λ–¤ ν† ν°λ„ μ†λΉ„ν•μ§€ μ•μ
* AIλ” μ—…λ°μ΄νΈκ°€ ν•„μ”ν• λ³€μλ§ μ—…λ°μ΄νΈν•λ©΄ λλ©°, κΈ°μ΅΄ μƒνƒλ°”μ²λΌ λ§¤λ² λ¨λ“  μ •λ³΄λ¥Ό μ¶λ ¥ν•  ν•„μ”κ°€ μ—†μ

!!! tip "μƒμƒλ ¥μ„ μ ν•ν•μ§€ λ§μ„Έμ”"
    ν•μ§€λ§ μ—¬κΈ° μΈν„°νμ΄μ¤ νν† λ¦¬μ–Όμ— μν•΄ μƒμƒλ ¥μ΄ μ ν•λμ§€ μ•λ„λ΅ ν•μ„Έμ”.
    
    κµ³μ΄ `<StatusPlaceHolderImpl/>`λ¥Ό μ‚¬μ©ν•μ—¬ μΈν„°νμ΄μ¤λ¥Ό ν‘μ‹ν•  ν•„μ”λ” μ—†μµλ‹λ‹¤. λ‹¤λ¥Έ μ–΄λ–¤ λ°©λ²•μΌλ΅λ“  ν‘μ‹ν•  μ μμµλ‹λ‹¤: μ§μ ‘ μ¶λ ¥ ν•μ‹μ„ μ •μν•μ—¬ AIκ°€ λ‹¤λ¥Έ ν•„μ”ν• μ •λ³΄λ¥Ό μ¶λ ¥ν•κ² ν•κ³ , Tavern μ •κ·μ‹μΌλ΅ μ΄λ¥Ό μΊ΅μ²ν• λ’¤ μ—¬λ¬λ¶„μ μΈν„°νμ΄μ¤λ΅ λ€μ²΄ν•  μ μμµλ‹λ‹¤.

## λ©”μ‹μ§€ μ‹μ‘ λ¶€λ¶„μ— μΈν„°νμ΄μ¤ ν‘μ‹ν•κΈ°

λν•, `<StatusPlaceHolderImpl/>` ν”λ μ΄μ¤ν™€λ”λ¥Ό μ‚¬μ©ν•λ”λΌλ„, Tavern μ •κ·μ‹μ„ μ΅°μ •ν•μ—¬ λ©”μ‹μ§€ λ(`<StatusPlaceHolderImpl/>`μ μ‹¤μ  μ„μΉ)μ΄ μ•„λ‹ **λ©”μ‹μ§€ μ‹μ‘ λ¶€λ¶„**μ— μΈν„°νμ΄μ¤λ¥Ό ν‘μ‹ν•  μ μμµλ‹λ‹¤:

!!! example "μ •κ·μ‹ μ„¤μ • κ²°κ³Ό"
    ```
    μ¤ν¬λ¦½νΈ μ΄λ¦„: [μΈν„°νμ΄μ¤]μƒνƒλ°”
    μ°ΎκΈ° μ •κ·ν‘ν„μ‹: /(.*)<StatusPlaceHolderImpl/>/s
    λ€μ²΄:
      μ—¬λ¬λ¶„μ μΈν„°νμ΄μ¤
      $1
    μ μ© λ²”μ„:
      - [ ] μ‚¬μ©μ μ…λ ¥
      - [x] AI μ¶λ ¥
    μ„μ‹:
      - [x] ν‘μ‹ μ „μ© ν¬λ§·
      - [ ] ν”„λ΅¬ν”„νΈ μ „μ© ν¬λ§·
    ```

μ΄ μμ‹λ¥Ό μ°Έκ³ λ΅, μ—¬κΈ° μΈν„°νμ΄μ¤ νν† λ¦¬μ–Όμ— μν•΄ μƒμƒλ ¥μ΄ μ ν•λμ§€ μ•λ„λ΅ ν•μ„Έμ”.
